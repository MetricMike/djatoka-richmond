<!DOCTYPE html>
<html lang="en" >

 <head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width; initial-scale=1.0; maximum-scale=1.0; user-scalable=0;" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent" />
  <meta http-equiv="X-UA-Compatible" content="IE=9" />

  <link rel="stylesheet" type="text/css" media="all" href="css/iip.compressed.css" />
<!--[if lt IE 10]>
  <link rel="stylesheet" type="text/css" media="all" href="css/ie.compressed.css" />
<![endif]-->

  <link rel="shortcut icon" href="images/favicon.16x16.png" />
  <link rel="apple-touch-icon" href="images/favicon.png" />

  <title>Djatoka Viewer 2.1 :: HTML5 High Resolution Image Viewer</title>

  <script type="text/javascript" src="javascript/mootools-core-1.4.5-full-nocompat.js"></script>
  <script type="text/javascript" src="javascript/mootools-more-1.4.0.1.js"></script>
  <script type="text/javascript" src="javascript/iipmooviewer-2.0.js"></script>
  <script type="text/javascript" src="javascript/djatoka.js"></script>

<!--[if lt IE 7]>
  <script src="http://ie7-js.googlecode.com/svn/version/2.1(beta4)/IE7.js">IE7_PNG_SUFFIX = ".png";</script>
<![endif]-->

  <script type="text/javascript">

    // The iipsrv server path (/fcgi-bin/iipsrv.fcgi by default)
    var server = 'http://localhost:8080/adore-djatoka/resolver';

    // The *full* image path on the server. This path does *not* need to be in the web
    // server root directory. On Windows, use Unix style forward slash paths without
    // the "c:" prefix
    var images = 'http://memory.loc.gov/gmd/gmd433/g4330/g4330/np000066.jp2';

    // Copyright or information message
    var credit = '<a href="http://library.richmond.edu/digital/index.html">Digital Library Services</a>';

    // Obtain URL Parameters if present
    var query = location.href.substring(location.href.indexOf("?")+1);
    var vars = query.split("&");
    for (var i=0;i<vars.length;i++) {
      var pair = vars[i].split("=");
      if (pair[0] == "url" || pair[0] == "rft_id")
         images = pair[1];
         if (images.indexOf("#") > 0)
           images = images.substring(0,images.length-1);
    }

    // Create our viewer object
    // See documentation for more details of options
    iip = new IIPMooViewer( "viewer", {
      image: images,
      server: server,
      render: 'random',
      protocol: 'djatoka',
      credit: credit
    });

  </script>

  <style type="text/css">
    body{
	height: 100%;
	padding: 0;
	margin: 0;
    }
    div#viewer{
	height: 100%;
	min-height: 100%;
	width: 100%;
	position: absolute;
	top: 0;
	left: 0;
	margin: 0;
	padding: 0;
    }	
  </style>

 </head>

 <body>
   <div id="viewer"></div>
 </body>

</html>
